---
layout: post
title: 'Mysql学习笔记'
subtitle: '个人学习笔记/备忘'
date: 2018-05-17
categories: C++
tags: Common C++ sql
---

根据[史上最简单的 MySQL 教程](https://blog.csdn.net/qq_35246620/article/details/70823903)学习MySQL，在此摘录自己的笔记

# 安装(centos7)
* wget http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm
* yum localinstall mysql57-community-release-el7-9.noarch.rpm
* yum install mysql-community-server
* service mysqld start
* 修改临时密码  
为了加强安全性，MySQL5.7为root用户随机生成了一个密码，在error log中，关于error log的位置，如果安装的是RPM包，则默认是/var/log/mysqld.log，只有启动过一次mysql才可以查看临时密码：  
grep 'temporary password' /var/log/mysqld.log  
复制对应字段
* mysql -u root -p  
然后粘贴刚才的密码
* 马上修改密码：  
ALTER USER 'root'@'localhost' IDENTIFIED BY 'newpasswd';
* 如果新密码太简单，修改安全强度和长度，再重新执行上一行命令  
mysql> set global validate_password_policy=0;  
mysql> set global validate_password_length=1;
* 最基础的sql安装到此结束

# 概念
* 一般来说，将 MySQL 数据库服务器的内部对象分为四层，分别为：数据管理系统（DBMS）–> 数据库（DB）–> 表（Table）–> 字段（Filed）

# 基础命令
[命令](http://www.runoob.com/sql/sql-tutorial.html)
* 登陆：mysql -hPup
-h，主机地址，本地为localhost，远程为IP地址  
-P，端口号，用来找软件  
-u，用户名  
-p，密码  
### 库操作
* show databases [like 'pattern'];  
pattern为匹配模式：  
%匹配多个字符  
_匹配单个字符，所以匹配的名称有_时需要用\_转义  
如show databases like '%abc';表示匹配所有以abc结尾的库
* create database + 数据库名称 + [库选项];  
选项为空默认即可，当业务上需要用到这些特性时在去搜索那个库选项合适
* drop database + 数据库名称;

### 表操作
* show tables [like 'pattern'];  
pattern为匹配模式：  
%匹配多个字符  
_匹配单个字符，所以匹配的名称有_时需要用\_转义  
如show tables like '%abc';表示匹配所有以abc结尾的表
* show columns from + 表名;
* create table [if not exists] + tblname(lowName type,lowName type)[表选项];  
选项为空默认即可，当业务上需要用到这些特性时在去搜索那个表选项合适
* rename table 旧表名 to 新表名;
* drop table + 表1, 表2 ... ;   
* 新增字段，基本语法：alter table + 表名 + add + [column] + 字段名 + 数据类型 + [列属性][位置];   
其中，位置表示此字段存储的位置，分为first（第一个位置）和after + 字段名（指定的字段后，默认为最后一个位置）.
示例：alter table student add column id int first;
* 修改字段，基本语法：alter table + 表名 + modify + 字段名 + 数据类型 + [列属性][位置]; 
* 重命名字段，基本语法：alter table + 表名 + change + 旧字段名 + 新字段名 + 数据类型 + [列属性][位置]; 
* 删除字段，基本语法：alter table + 表名 + drop+ 字段名; 